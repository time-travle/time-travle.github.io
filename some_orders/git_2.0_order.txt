Git日常修改的配置


1、比较不长用的命令，部分仅仅在本地有效
	# git status显示unicode/乱码
	$ git config --global core.quotepath false
	# Checkout 出现文件路径超长时执行命令：
	$ git config --global core.longpaths true 
	
2、上传文件太大时（默认10m）：
	进入远程git。找到project settings 打开Git hooks ，修改Maximum file size
	
3、git bush中如何退出vim编辑器
	按Esc退出输入模式进入命令行模式也是系统默认模式。

	o，i，a都可以进入输入模式。
	在命令模式下键入ZZ或者:wq保存修改并且退出 。
	如果只想保存文件，则键入:w，回车后底行会提示写入操作结果，并保持停留在命令模式。
	放弃所有文件修改，按下Esc键进入命令模式，键入:q! 回车后放弃修改并退出。
	放弃所有文件修改，但不退出，即回退到文件打开后，最后一次保存操作的状态，继续进行文件操作。
	按下Esc键进入命令模式，键入:e! ，回车后回到命令模式。

	作者：女王陛下的喵
	链接：https://www.jianshu.com/p/1bb48c844ac4

	Vim主要有如下两种模式：
	（1）.Normal 模式。
	（2）.Insert 模式。
	Normal 模式：
	（1）.点击ESC键或者Ctrl + [组合键进入此模式。
	（2）.又称作为命令模式。
	（3）.此模式下无法输入内容，但是可以赋值黏贴，保存或者退出。
	（4）.此模式下，按下:w表示保存，:q表示离开（如果未保存会有提示），:wq表示保存并离开。
	Insert 模式:
	（1）.点击i、a 或 o 键可以进入此模式。
	（2）.i表示在光标当前位置插入，a表示在光标下一个位置插入，o表示在新一行插入。
	（3）.I表示在行首插入，A表示在行尾插入。

	插入文字之后是由esc进入命令行模式，：进入底行模式。
	通过查资料，按理说vi编辑器
	输入：
	: w filename （将文章以指定的文件名filename保存）
	: wq (存盘并退出vi)
	: q! (不存盘强制退出vi)
	: q (不存盘退出vi)


4、如何清除git仓库的所有提交记录，成为一个新的干净仓库
	1.切换到新的分支
		git checkout --orphan latest_branch
　　2.缓存所有文件（除了.gitignore中声明排除的）
		git add -A
　　3.提交跟踪过的文件（Commit the changes）
		git commit -am "commit message"
　　4.删除master分支（Delete the branch）
		git branch -D master
　　5.重命名当前分支为master（Rename the current branch to master）
		git branch -m master
　　6.提交到远程master分支 （Finally, force update your repository）
		git push -f origin master
　　通过以上几步就可以简单地把一个Git仓库的历史提交记录清除掉了，不过最好还是在平时的开发中严格要求一下提交日志的规范，
	尽量避免在里面输入一些敏感信息进来。


5、网络工具
	DNS检查工具：http://tool.chinaz.com/dns	
	ip归属查询：https://www.ipaddress.com/

6、Git 清理无效的远程追踪分支
	#在远程版本库创建了一个分支后，在本地可以使用  可以在本地创建远程追踪分支 
	#但是，如果在远程版本库上删除了某一分支，该命令并不会删除本地的远程追踪分支
	$ git remote update
	
	#假如你的远程版本库名是 origin,则使用如下命令先查看哪些分支需要清理：
	$ git remote prune origin --dry-run
	
	#该命令可以删除本地版本库上那些失效的远程追踪分支
	$ git remote prune
	#执行命令，就完成了无效的远程追踪分支的清理工作
	$ git remote prune origin


7、忽略文件文件夹(不纳入git管理)
	使用gitignore文件来解决这个问题，步骤是：
	1） touch .gitignore #创建gitignore隐藏文件
	2） vim .gitignore #编辑文件，加入指定文件
		按"Esc"键后。按":w"保存。
		按":wq"或"ZZ"(大写的Z)保存并退出.gitignore文件的编辑。

	【方式一】拉取到代码的人都使用
		在仓库目录下新建一个名为.gitignore的文件
	（因为是点开头，没有文件名，没办法直接在windows目录下直接创建，必须通过右键Git Bash，
		按照linux的方式来新建.gitignore文件）。
		.gitignore文件对其所在的目录及所在目录的全部子目录均有效。
		通过将.gitignore文件添加到仓库，其他开发者更新该文件到本地仓库，以共享同一套忽略规则。

	【方式二】仅仅本地是OK的
	   通过配置.git/info/exclude文件来忽略文件。这种方式对仓库全局有效，只能对自己本地仓库有作用，其他人没办法通过这种方式来共享忽略规则，除非他人也修改其本地仓库的该文件。

	【方式三】仅仅本地是OK的
	   通过.git/config配置文件的core. Excludesfile选项，指定一个忽略规则文件（完整路径），如下图所示。忽略规则在文件e:/gitignore.txt中（当然该文件名可以任意取）。
	   该方式的作用域是也全局的
		   
	【例子】
		# 忽略*.o和*.a文件
		*.[oa]
		# 忽略*.b和*.B文件，my.b除外
		*.[bB]
		!my.b
		# 忽略dbg文件和dbg目录
		dbg
		# 只忽略dbg目录，不忽略dbg文件
		dbg/
		# 只忽略dbg文件，不忽略dbg目录
		dbg
		!dbg/
		# 只忽略当前目录下的dbg文件和目录，子目录的dbg不在忽略范围内
		/dbg
		# 此为注释 – 将被 Git 忽略
		*.a       # 忽略所有 .a 结尾的文件
		!lib.a    # 但 lib.a 除外
		/TODO     # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO
		build/    # 忽略 build/ 目录下的所有文件
		doc/*.txt # 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt

	开放模式 过滤文件夹设置：
		/mtk/ 表示过滤这个文件夹
		过滤文件设置
		指定过滤某种类型的文件：
		*.zip
		*.rar
		*.via
		*.tmp
		*.err
		指定过滤某个文件：
		/mtk/do.c
		/mtk/if.h
	
	1、.gitignore文件的创建：首先要强调一点，这个文件的完整文件名就是“.gitignore”，注意最前面有个“.”。
	这样没有扩展名的文件在Windows下不太好创建，这里给出win7的创建方法：创建一个文件，文件名为：“.gitignore.”，
	注意前后都有一个点。保存之后系统会自动重命名为“.gitignore”。
	2、过滤规则：
		build/ ：过滤整个文件夹；
		*.class：过滤所有.class后缀的文件；
		local.properties:过滤具体文件
		被过滤掉的文件就不会出现在你的GitHub库中了，当然本地库中还有，只是push的时候不会上传。
		需要注意的是.gitignore还可以指定哪些文件添加到版本管理中，添加规则：
		！build/ ：添加整个文件夹；
		！*.class：添加所有.class后缀的文件；
		！local.properties:添加具体文件
		唯一的区别就是前面加了个感叹号
	3.注意：如果你不慎在创建.gitignore文件之前就push了项目，那么即使你在.gitignore文件中写入新的过滤规则，
		这些规则也不会起作用，Git仍然会对所有文件进行版本管理。
		简单来说出现这种问题的原因就是Git已经开始管理这些文件了，所以你无法再通过过滤规则过滤它们。
		所以大家一定要养成在项目开始就创建.gitignore文件的习惯，否则一单push，处理起来会非常麻烦。	

	4、对已提交不必要文件的处理方法
　　有时候当我们明白这个gitignore之后才发现我们已经提交不必要的文件了，而自己又是一个较完美主义者，不愿意让那些文件存在我们库里，该怎么做呢？有什么办法吗？办法肯定是有的。
　　那么我们现在预设的问题模型是：项目文件里有一个node_modules文件，该文件是存储自动生成的模型的文件，然后我已经把这个文件提交到github库里了，
	现在我明白了这个道里过后想删掉它并且以后都不再提交它。处理的方法：首先，我们再终端进入项目的根文件下面，创建.gitignore文件，并且添加需要忽略提交的文件，
	如上面我的一个.gitignore文件，然后输入如下命令
	git rm -r --cached node_modules（要删除的文件名）
　　然后再
	git push
　　最后我们去我们的github的库里去就会发现刚刚删除的东西已经成功删除啦~	
	
	5、在使用.gitignore文件后如何删除远程仓库中以前上传的此类文件而保留本地文件
		比如我们在使用git和github的时候，之前没有写.gitignore文件，就上传了一些没有必要的文件，在添加了.gitignore文件后，就想删除远程仓库中的文件却想保存本地的文件。 
		这时候不可以直接使用git rm directory，这样会删除本地仓库的文件。 
		可以使用git rm -r –cached directory来删除缓冲，然后进行commit和push，这样会发现远程仓库中的不必要文件就被删除了，以后可以直接使用git add -A来添加修改的内容，上传的文件就会受到.gitignore文件的内容约束。

	6、强制忽略已经被管理的文件
		1、对于未加入版本控制的文件，我们可以创建.gitignore文件，忽略你想忽略的文件。
		2、对于已经加入版本控制的文件，我们可以强制忽略文件
		git update-index --assume-unchanged <files>
		如果不小心 local.properties 文件被同事加入版本库了，更改了自己的sdk目录后，可以强制忽略这个文件
		git update-index --assume-unchanged local.properties
		这样，即使已经更改了文件，用git status也不会看见文件已经更改。
		但在使用时需要小心，取消这种设定可以使用：
		git update-index --no-assume-unchanged <files>
		https://www.jianshu.com/p/e439e940f386

